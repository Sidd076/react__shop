{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Reckonsys/OneDrive/Desktop/REACT/login_shop/react-shop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Reckonsys/OneDrive/Desktop/REACT/login_shop/react-shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Reckonsys/OneDrive/Desktop/REACT/login_shop/react-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import bcrypt from'bcryptjs';import'./Signup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var navigate=useNavigate();var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name==='name'){setName(value);}else if(name==='email'){setEmail(value.toLowerCase());// Convert email to lowercase\n}else if(name==='password'){setPassword(value);}else if(name==='confirmPassword'){setConfirmPassword(value);}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var apiResponse,isEmailTaken,i,salt,hashedPassword,ios,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.get('https://6417e3dd8e0487d453e68158.mockapi.io/sid/siddhant');case 4:apiResponse=_context.sent;isEmailTaken=false;i=0;case 7:if(!(i<apiResponse.data.length)){_context.next=14;break;}if(!(apiResponse.data[i].email===email.toLowerCase())){_context.next=11;break;}isEmailTaken=true;return _context.abrupt(\"break\",14);case 11:i++;_context.next=7;break;case 14:if(!isEmailTaken){_context.next=17;break;}alert('Email already taken');return _context.abrupt(\"return\");case 17:if(!(password!==confirmPassword)){_context.next=20;break;}alert('Passwords do not match');return _context.abrupt(\"return\");case 20:_context.next=22;return bcrypt.genSalt(10);case 22:salt=_context.sent;_context.next=25;return bcrypt.hash(password,salt);case 25:hashedPassword=_context.sent;ios=axios.create({baseURL:'https://6417e3dd8e0487d453e68158.mockapi.io'});_context.next=29;return ios.post('/sid/siddhant',{name:name,email:email,password:hashedPassword});case 29:response=_context.sent;console.log(response);alert('Signup successful');navigate('/login');_context.next=39;break;case 35:_context.prev=35;_context.t0=_context[\"catch\"](1);console.error(_context.t0);alert('Signup failed');case 39:case\"end\":return _context.stop();}},_callee,null,[[1,35]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:name,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:email,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:confirmPassword,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign up\"})]})});};export default Signup;","map":{"version":3,"names":["useState","useNavigate","axios","bcrypt","jsx","_jsx","jsxs","_jsxs","Signup","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","confirmPassword","setConfirmPassword","navigate","handleInputChange","event","_event$target","target","value","toLowerCase","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","apiResponse","isEmailTaken","i","salt","hashedPassword","ios","response","wrap","_callee$","_context","prev","next","preventDefault","get","sent","data","length","abrupt","alert","genSalt","hash","create","baseURL","post","console","log","t0","error","stop","_x","apply","arguments","children","onSubmit","htmlFor","type","id","onChange"],"sources":["C:/Users/Reckonsys/OneDrive/Desktop/REACT/login_shop/react-shop/src/components/Signup.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport bcrypt from 'bcryptjs';\r\nimport './Signup.css';\r\n\r\nconst Signup = () => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    if (name === 'name') {\r\n      setName(value);\r\n    } else if (name === 'email') {\r\n      setEmail(value.toLowerCase()); // Convert email to lowercase\r\n    } else if (name === 'password') {\r\n      setPassword(value);\r\n    } else if (name === 'confirmPassword') {\r\n      setConfirmPassword(value);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const apiResponse = await axios.get('https://6417e3dd8e0487d453e68158.mockapi.io/sid/siddhant');\r\n      let isEmailTaken = false;\r\n\r\n      for (let i = 0; i < apiResponse.data.length; i++) {\r\n        if (apiResponse.data[i].email === email.toLowerCase()) {\r\n          isEmailTaken = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (isEmailTaken) {\r\n        alert('Email already taken');\r\n        return;\r\n      }\r\n\r\n      if (password !== confirmPassword) {\r\n        alert('Passwords do not match');\r\n        return;\r\n      }\r\n\r\n      const salt = await bcrypt.genSalt(10);\r\n      const hashedPassword = await bcrypt.hash(password, salt);\r\n\r\n      const ios = axios.create({\r\n        baseURL: 'https://6417e3dd8e0487d453e68158.mockapi.io',\r\n      });\r\n\r\n      const response = await ios.post(\r\n        '/sid/siddhant',\r\n        {\r\n          name,\r\n          email,\r\n          password: hashedPassword,\r\n        }\r\n      );\r\n      console.log(response);\r\n      alert('Signup successful');\r\n      navigate('/login');\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Signup failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <label htmlFor=\"name\">Name:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label htmlFor=\"email\">Email:</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label htmlFor=\"password\">Password:</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <label htmlFor=\"confirmPassword\">Confirm Password:</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"confirmPassword\"\r\n          name=\"confirmPassword\"\r\n          value={confirmPassword}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <button type=\"submit\">Sign up</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}