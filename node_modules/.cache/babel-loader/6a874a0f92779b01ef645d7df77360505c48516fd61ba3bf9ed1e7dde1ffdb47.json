{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Reckonsys/OneDrive/Desktop/REACT/login_shop/react-shop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Reckonsys/OneDrive/Desktop/REACT/login_shop/react-shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Reckonsys/OneDrive/Desktop/REACT/login_shop/react-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import bcrypt from\"bcryptjs\";import'./Signup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name===\"email\"){setEmail(value);}else if(name===\"password\"){setPassword(value);}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response,success,isEmailValid,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.get(\"https://6417e3dd8e0487d453e68158.mockapi.io/sid/siddhant\");case 4:response=_context.sent;success=false;isEmailValid=false;i=0;case 8:if(!(i<response.data.length)){_context.next=21;break;}if(!(response.data[i].email===email)){_context.next=18;break;}isEmailValid=true;if(!bcrypt.compareSync(password,response.data[i].password)){_context.next=16;break;}success=true;return _context.abrupt(\"break\",21);case 16:alert(\"Invalid Password\");return _context.abrupt(\"break\",21);case 18:i++;_context.next=8;break;case 21:if(isEmailValid&&success){alert(\"Login successful\");navigate(\"/home\");}else if(isEmailValid&&!success){alert(\"Invalid Password\");}else{alert(\"Invalid User\");}_context.next=27;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 27:case\"end\":return _context.stop();}},_callee,null,[[1,24]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:email,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","axios","bcrypt","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","navigate","handleInputChange","event","_event$target","target","name","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","success","isEmailValid","i","wrap","_callee$","_context","prev","next","preventDefault","get","sent","data","length","compareSync","abrupt","alert","t0","console","error","stop","_x","apply","arguments","children","onSubmit","htmlFor","type","id","onChange"],"sources":["C:/Users/Reckonsys/OneDrive/Desktop/REACT/login_shop/react-shop/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport './Signup.css';\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const response = await axios.get(\"https://6417e3dd8e0487d453e68158.mockapi.io/sid/siddhant\");\r\n\r\n      let success = false;\r\n      let isEmailValid = false;\r\n\r\n      for (let i = 0; i < response.data.length; i++) {\r\n        if (response.data[i].email === email) {\r\n          isEmailValid = true;\r\n\r\n          if (bcrypt.compareSync(password, response.data[i].password)) {\r\n            success = true;\r\n            break;\r\n          } else {\r\n            alert(\"Invalid Password\");\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (isEmailValid && success) {\r\n        alert(\"Login successful\");\r\n        navigate(\"/home\");\r\n      } else if (isEmailValid && !success) {\r\n        alert(\"Invalid Password\");\r\n      } else {\r\n        alert(\"Invalid User\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <label htmlFor=\"email\">Email:</label>\r\n        <input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={handleInputChange} />\r\n\r\n        <label htmlFor=\"password\">Password:</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}